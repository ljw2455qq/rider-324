<!DOCTYPE html>
<html>
  <head>
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mapbox/mapbox-sdk/umd/mapbox-sdk.min.js"></script>
    <script src="https://mapbox.github.io/mapbox-gl-language/index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@rtirl/api@latest/lib/index.min.js"></script>
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div style="position: relative; width: 100%; height: 100%;">
      <div id="map" style="width: 300px; height: 250px"></div>
      <div
        id="marker"
        style="
          background-color: cyan;
          height: 12px;
          width: 12px;
          position: absolute;
          border-radius: 50%;
          top: 119px;
          left: 144px;
          box-shadow: 0 0 10px cyan;
        "
      ></div>
    </div>
    <script>
      const ACCESS_TOKEN = "pk.eyJ1IjoiaG9vbmNvbSIsImEiOiJjbWNjM3R4enUwM3pnMmlxMWJvZTVrMWIzIn0.h_-BNK4FuriEfFWXvE1pmw";
      const PULL_KEY = "zeoeyze9htbyx455";

      mapboxgl.accessToken = ACCESS_TOKEN;
      var zoom = 15;

      var map = new mapboxgl.Map({
        container: "map",
        style: "mapbox://styles/mapbox/streets-v12",
        interactive: false,
        attributionControl: false,
        zoom: zoom,
      });

      map.addControl(new MapboxLanguage({ defaultLanguage: "ko" }));

      var mapboxClient = mapboxSdk({ accessToken: mapboxgl.accessToken });

      RealtimeIRL.forPullKey(PULL_KEY).addLocationListener(function (location) {
        map.panTo([location.longitude, location.latitude], {
          duration: 1500,
          easing: (x) => x,
        });
      });
    </script>
  </body>
</html>
